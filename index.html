<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinySpline: TinySpline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TinySpline_B.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TinySpline</div>
   <div id="projectbrief">Spline Library for a Multitude of Programming Languages</div>
   <div id="projectnumber">v0.3.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TinySpline </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/msteinbeck/tinyspline"></a> <a href="https://lgtm.com/projects/g/msteinbeck/tinyspline/context:cpp"></a></p>
<p>TinySpline is a small, yet powerful library for interpolating, transforming, and querying arbitrary NURBS, B-Splines, and BÃ©zier curves. The library is implemented in ANSI C (C89) and provides a wrapper for C++ along with auto-generated bindings for C#, D, Go, Java, Lua, Octave, PHP, Python, R, and Ruby.</p>
<h3>License</h3>
<p>MIT License - see the LICENSE file in the source distribution.</p>
<h3>Getting Started</h3>
<p>The following listing uses the ANSI C interface:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="tinyspline_8h.html">tinyspline.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">    <a class="code" href="structts_status.html">tsStatus</a> status;   </div><div class="line">    <a class="code" href="structts_b_spline.html">tsBSpline</a> spline;  </div><div class="line">    tsReal *ctrlp;     </div><div class="line">    <a class="code" href="structts_b_spline.html">tsBSpline</a> beziers; </div><div class="line">    <a class="code" href="structts_de_boor_net.html">tsDeBoorNet</a> net;   </div><div class="line">    tsReal *result;    </div><div class="line"><span class="comment">/* ------------------------------------------------------------------------- */</span></div><div class="line"><span class="comment">/* TinySpline includes a powerful, system-independent, and thread-safe error</span></div><div class="line"><span class="comment"> * handling system in the form of easy-to-use macros. All you need to do is to</span></div><div class="line"><span class="comment"> * embed your code into TS_TRY/TS_END_TRY and use TS_CALL when calling a</span></div><div class="line"><span class="comment"> * TinySpline function. Likewise, you can use any of the TS_THROW macros to</span></div><div class="line"><span class="comment"> * raise an error if an external function (e.g. malloc) failed.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Errors can be handled in TS_CATCH. TS_FINALLY contains code that is executed</span></div><div class="line"><span class="comment"> * in any case, therefore being perfectly suitable for cleaning up resources.</span></div><div class="line"><span class="comment"> * Yet, error handling is entirely optional. You may omit TS_TRY, TS_CALL, and</span></div><div class="line"><span class="comment"> * TS_THROW and pass NULL instead of a pointer to a tsStatus object. */</span></div><div class="line"></div><div class="line">    spline = <a class="code" href="tinyspline_8h.html#ae8c964681bfa38c6f2cd923c9e288891">ts_bspline_init</a>();</div><div class="line">    beziers = <a class="code" href="tinyspline_8h.html#ae8c964681bfa38c6f2cd923c9e288891">ts_bspline_init</a>();</div><div class="line">    net = <a class="code" href="tinyspline_8h.html#ad43f76a5a27d1a1e7a6c155a1814de3a">ts_deboornet_init</a>();</div><div class="line">    ctrlp = result = NULL;</div><div class="line">    TS_TRY(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, &amp;status)</div><div class="line">        <span class="comment">/* Create a spline... */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a4a5972269a45e97e483a6e5178c580bf">ts_bspline_new</a>(</div><div class="line">            7, <span class="comment">/* ... consisting of 7 control points... */</span></div><div class="line">            2, <span class="comment">/* ... in 2D... */</span></div><div class="line">            3, <span class="comment">/* ... of degree 3... */</span></div><div class="line">            TS_CLAMPED, <span class="comment">/* ... using a clamped knot vector. */</span></div><div class="line">            &amp;spline, &amp;status))</div><div class="line"></div><div class="line">        <span class="comment">/* Setup control points of `spline`. */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a1136f653df1b0b09ff70fb1c7724d31a">ts_bspline_control_points</a>(</div><div class="line">            &amp;spline, &amp;ctrlp, &amp;status))</div><div class="line">        ctrlp[0]  = -1.75f; <span class="comment">/* x0 */</span></div><div class="line">        ctrlp[1]  = -1.0f;  <span class="comment">/* y0 */</span></div><div class="line">        ctrlp[2]  = -1.5f;  <span class="comment">/* x1 */</span></div><div class="line">        ctrlp[3]  = -0.5f;  <span class="comment">/* y1 */</span></div><div class="line">        ctrlp[4]  = -1.5f;  <span class="comment">/* x2 */</span></div><div class="line">        ctrlp[5]  =  0.0f;  <span class="comment">/* y2 */</span></div><div class="line">        ctrlp[6]  = -1.25f; <span class="comment">/* x3 */</span></div><div class="line">        ctrlp[7]  =  0.5f;  <span class="comment">/* y3 */</span></div><div class="line">        ctrlp[8]  = -0.75f; <span class="comment">/* x4 */</span></div><div class="line">        ctrlp[9]  =  0.75f; <span class="comment">/* y4 */</span></div><div class="line">        ctrlp[10] =  0.0f;  <span class="comment">/* x5 */</span></div><div class="line">        ctrlp[11] =  0.5f;  <span class="comment">/* y5 */</span></div><div class="line">        ctrlp[12] =  0.5f;  <span class="comment">/* x6 */</span></div><div class="line">        ctrlp[13] =  0.0f;  <span class="comment">/* y6 */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a4a6b561b6630d272b277d032e5b052ff">ts_bspline_set_control_points</a>(</div><div class="line">            &amp;spline, ctrlp, &amp;status))</div><div class="line"></div><div class="line">        <span class="comment">/* Evaluate `spline` at u = 0.4. */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a7664fc7e5dc88ec66a28a69fec811cc0">ts_bspline_eval</a>(</div><div class="line">            &amp;spline, 0.4f, &amp;net, &amp;status))</div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a5c0fb1f6b83df41692b1cf5b0be69038">ts_deboornet_result</a>(</div><div class="line">            &amp;net, &amp;result, &amp;status))</div><div class="line">        printf(<span class="stringliteral">&quot;x = %f, y = %f\n&quot;</span>, result[0], result[1]);</div><div class="line"></div><div class="line">        <span class="comment">/* Derive `spline` ... */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a3951ed0f1f01cadc3815e306739acb00">ts_bspline_derive</a>(</div><div class="line">            &amp;spline, 1, &amp;beziers, &amp;status))</div><div class="line">        <span class="comment">/* ... and subdivide it into a sequence of Bezier curves. */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a6956cf8dc36b552a41acbdeb10907f42">ts_bspline_to_beziers</a>(</div><div class="line">            &amp;beziers, &amp;beziers, &amp;status))</div><div class="line"></div><div class="line">        <a class="code" href="tinyspline_8h.html#aab65687368616fde0f629c36f214e342">ts_deboornet_free</a>(&amp;net);</div><div class="line">        free(result);</div><div class="line">        <span class="comment">/* Evaluate `beziers` at u = 0.3. */</span></div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a7664fc7e5dc88ec66a28a69fec811cc0">ts_bspline_eval</a>(</div><div class="line">            &amp;beziers, 0.3f, &amp;net, &amp;status))</div><div class="line">        TS_CALL(<span class="keywordflow">try</span>, status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>, <a class="code" href="tinyspline_8h.html#a5c0fb1f6b83df41692b1cf5b0be69038">ts_deboornet_result</a>(</div><div class="line">            &amp;net, &amp;result, &amp;status))</div><div class="line">        printf(<span class="stringliteral">&quot;x = %f, y = %f\n&quot;</span>, result[0], result[1]);</div><div class="line">    TS_CATCH(status.<a class="code" href="structts_status.html#a4122037cb2b267c9d6f575c954328852">code</a>)</div><div class="line">        puts(status.message);</div><div class="line">    TS_FINALLY</div><div class="line">        <a class="code" href="tinyspline_8h.html#a0b6d1ad2de2c2b3723086ddd6fb037a9">ts_bspline_free</a>(&amp;spline);</div><div class="line">        <a class="code" href="tinyspline_8h.html#a0b6d1ad2de2c2b3723086ddd6fb037a9">ts_bspline_free</a>(&amp;beziers);</div><div class="line">        <a class="code" href="tinyspline_8h.html#aab65687368616fde0f629c36f214e342">ts_deboornet_free</a>(&amp;net);</div><div class="line">        if (ctrlp)</div><div class="line">            free(ctrlp);</div><div class="line">        if (result)</div><div class="line">            free(result);</div><div class="line">    TS_END_TRY</div><div class="line"></div><div class="line">    return status.code? 1 : 0;</div><div class="line">}</div></div><!-- fragment --><p> The same example using the C++ interface:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;tinysplinecpp.h&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">    <span class="comment">// Create a cubic spline with 7 control points in 2D using</span></div><div class="line">    <span class="comment">// a clamped knot vector. This call is equivalent to:</span></div><div class="line">    <span class="comment">// tinyspline::BSpline spline(7, 2, 3, TS_CLAMPED);</span></div><div class="line">    <a class="code" href="classtinyspline_1_1_b_spline.html">tinyspline::BSpline</a> spline(7);</div><div class="line"></div><div class="line">    <span class="comment">// Setup control points.</span></div><div class="line">    std::vector&lt;tinyspline::real&gt; ctrlp = spline.controlPoints();</div><div class="line">    ctrlp[0]  = -1.75; <span class="comment">// x0</span></div><div class="line">    ctrlp[1]  = -1.0;  <span class="comment">// y0</span></div><div class="line">    ctrlp[2]  = -1.5;  <span class="comment">// x1</span></div><div class="line">    ctrlp[3]  = -0.5;  <span class="comment">// y1</span></div><div class="line">    ctrlp[4]  = -1.5;  <span class="comment">// x2</span></div><div class="line">    ctrlp[5]  =  0.0;  <span class="comment">// y2</span></div><div class="line">    ctrlp[6]  = -1.25; <span class="comment">// x3</span></div><div class="line">    ctrlp[7]  =  0.5;  <span class="comment">// y3</span></div><div class="line">    ctrlp[8]  = -0.75; <span class="comment">// x4</span></div><div class="line">    ctrlp[9]  =  0.75; <span class="comment">// y4</span></div><div class="line">    ctrlp[10] =  0.0;  <span class="comment">// x5</span></div><div class="line">    ctrlp[11] =  0.5;  <span class="comment">// y5</span></div><div class="line">    ctrlp[12] =  0.5;  <span class="comment">// x6</span></div><div class="line">    ctrlp[13] =  0.0;  <span class="comment">// y6</span></div><div class="line">    spline.setControlPoints(ctrlp);</div><div class="line"></div><div class="line">    <span class="comment">// Evaluate `spline` at u = 0.4 using &#39;eval&#39;.</span></div><div class="line">    std::vector&lt;tinyspline::real&gt; result = spline.eval(0.4).result();</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;x = &quot;</span> &lt;&lt; result[0] &lt;&lt; <span class="stringliteral">&quot;, y = &quot;</span> &lt;&lt; result[1] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="comment">// Derive `spline` and subdivide it into a sequence of Bezier curves.</span></div><div class="line">    <a class="code" href="classtinyspline_1_1_b_spline.html">tinyspline::BSpline</a> beziers = spline.derive().toBeziers();</div><div class="line"></div><div class="line">    <span class="comment">// Evaluate `beziers` at u = 0.3 using &#39;()&#39; instead of &#39;eval&#39;.</span></div><div class="line">    result = beziers(0.3).result();</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;x = &quot;</span> &lt;&lt; result[0] &lt;&lt; <span class="stringliteral">&quot;, y = &quot;</span> &lt;&lt; result[1] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h3>Installation</h3>
<h4>Prebuilt Binaries</h4>
<p>Coming soon.</p>
<h4>Compiling From Source</h4>
<p>TinySpline uses the CMake build system to compile and package its interfaces. The following compiler suites are tested: GCC, Clang, and MSVC. In order to create the bindings, Swig (3.0.1 or later) must be available. Each binding may have further dependencies to generate the source code of the target language. The following table gives an overview:</p>
<table class="doxtable">
<tr>
<th>Language </th><th>Dependencies to Generate Source </th><th>(Relative) Output Directory  </th></tr>
<tr>
<td>C# </td><td></td><td>csharp </td></tr>
<tr>
<td>D </td><td>- </td><td>dlang </td></tr>
<tr>
<td>Golang </td><td>- </td><td>go </td></tr>
<tr>
<td>Java </td><td>Java Development Kit </td><td>org/tinyspline </td></tr>
<tr>
<td>Lua </td><td>Lua headers </td><td>lua </td></tr>
<tr>
<td>PHP </td><td>PHP (Zend) headers * </td><td>php </td></tr>
<tr>
<td>Python </td><td>Python headers </td><td>python </td></tr>
<tr>
<td>Ruby </td><td>Ruby headers </td><td>ruby </td></tr>
</table>
<ul>
<li>Please note that macOS comes with PHP, but does not provide the Zend headers. It is recommended to use a package manager (such as Homebrew) to obtain the headers.</li>
</ul>
<p>To simplify the usage of the bindings, the generated source files are compiled and/or packaged if necessary. That is, for instance, the generated Java files are compiled to .class files and packaged into a jar archive. Accordingly, the following tools are required if you want to package the corresponding binding:</p>
<table class="doxtable">
<tr>
<th>Language </th><th>Required Tool(s) </th><th>Output File  </th></tr>
<tr>
<td>C# </td><td>Any of: csc, mcs, dmcs, gmcs </td><td>TinySpline.dll </td></tr>
<tr>
<td>Java </td><td>javac and jar (available in JDK) </td><td>tinyspline.jar </td></tr>
</table>
<p>Now let's start building TinySpline. First of all, checkout the repository and cd into it:</p>
<div class="fragment"><div class="line">git clone git@github.com:msteinbeck/tinyspline.git tinyspline</div><div class="line">cd tinyspline</div></div><!-- fragment --><p>Afterwards, create a build directory and cd into it:</p>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div></div><!-- fragment --><p>Finally, run CMake and build the project:</p>
<div class="fragment"><div class="line">cmake ..</div><div class="line">cmake --build .</div></div><!-- fragment --><p>If you want to build a specific binding, use <code>-DTINYSPLINE_ENABLE_LANGUAGE</code> (where <code>LANGUAGE</code> is interface you want to build) when setting up cmake. For example:</p>
<div class="fragment"><div class="line">cmake -DTINYSPLINE_ENABLE_PYTHON=True ..</div><div class="line">cmake --build .</div></div><!-- fragment --><p>To enable all interfaces, use <code>-DTINYSPLINE_ENABLE_ALL_INTERFACES</code>:</p>
<div class="fragment"><div class="line">cmake -DTINYSPLINE_ENABLE_ALL_INTERFACES=True ..</div><div class="line">cmake --build .</div></div><!-- fragment --><p>You will find the resulting libraries and packages in <code>tinyspline/build/lib</code>.</p>
<h4>Python 2 vs. Python 3</h4>
<p>While generating the Python binding, Swig needs to distinguish between Python 2 and Python 3. That is, Swig uses the command line parameter <code>-py</code> to generate Python 2 compatible code and <code>-py3</code> to generate Python 3 compatible code. Accordingly, Swig is configured depending on the Python version found by CMake during initialization. On systems with multiple versions of Python installed, CMake usually chooses the more recent one. If you want to use a specific version of Python instead, set the environment variable 'TINYSPLINE_PYTHON_VERSION' to '2' or '3'.</p>
<p>The following example shows how to force CMake to use Python 2 rather than Python 3:</p>
<div class="fragment"><div class="line">TINYSPLINE_PYTHON_VERSION=2 cmake ..</div></div><!-- fragment --><h4>Install the C and C++ Libraries</h4>
<p>The following command installs TinySpline to your system:</p>
<div class="fragment"><div class="line">cmake --build . --target install</div></div><!-- fragment --><p>However, there are several binding-related files that CMake does not install with this command, as some languages use custom tools to install files. Python, for instance, uses Distutils/Setuptools to install files to Python-specific directories that CMake is not aware of. Thus, TinySpline ships further, language-related distribution tools.</p>
<h4>Install the Bindings</h4>
<p>Depending on your configuration, binding-related distribution files are generated within the root of your build directory. That is, for instance, the file <code>setup.py</code> is generated if support for Python was detected. Currently, the following build tools are supported: Setuptools (Python), Maven (Java), and Luarocks (Lua).</p>
<h3>Theoretical Backgrounds</h3>
<p><a href="http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/B-spline/bspline-curve.html">[1]</a> is a very good starting point for B-Splines.</p>
<p><a href="http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/B-spline/de-Boor.html">[2]</a> explains De Boor's Algorithm and gives some pseudo code.</p>
<p><a href="http://www.codeproject.com/Articles/996281/NURBS-curve-made-easy">[3]</a> provides a good overview of NURBS with some mathematical background.</p>
<p><a href="http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/NURBS-def.html">[4]</a> is useful if you want to use NURBS in TinySpline. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>This project is maintained by <a href="https://github.com/msteinbeck">Marcel Steinbeck</a>.<br />
&copy; 2014-2017 - TinySpline is released under the terms of the MIT license.<br />
Generated on Thu Feb 27 2020 22:48:13 for TinySpline by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13<br />
Library logo and Doxygen theme custom created by <a href="https://www.nightwave.co">Nightwave Studios</a>.
</small></address>
</body>
</html>
